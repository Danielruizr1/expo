{"version":3,"file":"FirebaseApp.js","sourceRoot":"","sources":["../src/FirebaseApp.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,mBAAmB,EAAE,MAAM,kBAAkB,CAAC;AACvD,OAAO,eAAe,MAAM,mBAAmB,CAAC;AAGhD,cAAc,kBAAkB,CAAC;AAEjC,MAAM,CAAC,MAAM,EAAE,eAAe,EAAE,YAAY,EAAE,GAAG,eAAe,CAAC;AAOjE,MAAM,WAAW;IAWf,YAAY,MAAyB;QACnC,IAAI,CAAC,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC;QACxB,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,OAAO,CAAC;IAChC,CAAC;IAED;;OAEG;IACH,WAAW;QACT,aAAa;QACb,IAAI,CAAC,eAAe,CAAC,cAAc,EAAE;YACnC,MAAM,IAAI,mBAAmB,CAAC,mBAAmB,EAAE,gBAAgB,CAAC,CAAC;SACtE;QACD,aAAa;QACb,OAAO,eAAe,CAAC,cAAc,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IACpD,CAAC;CACF;AAED;;;;;;;;;;;;;;GAcG;AACH,MAAM,CAAC,KAAK,UAAU,kBAAkB,CACtC,OAAyB,EACzB,IAAa;IAEb,aAAa;IACb,IAAI,CAAC,eAAe,CAAC,kBAAkB,EAAE;QACvC,MAAM,IAAI,mBAAmB,CAAC,mBAAmB,EAAE,oBAAoB,CAAC,CAAC;KAC1E;IACD,MAAM,MAAM,GAAG,MAAM,eAAe,CAAC,kBAAkB,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;IACvE,OAAO,IAAI,WAAW,CAAC,MAAM,CAAC,CAAC;AACjC,CAAC;AAED;;;;;;;;GAQG;AACH,MAAM,CAAC,KAAK,UAAU,WAAW,CAAC,IAAa;IAC7C,aAAa;IACb,IAAI,CAAC,eAAe,CAAC,WAAW,EAAE;QAChC,MAAM,IAAI,mBAAmB,CAAC,mBAAmB,EAAE,aAAa,CAAC,CAAC;KACnE;IACD,MAAM,MAAM,GAAG,MAAM,eAAe,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;IACvD,OAAO,IAAI,WAAW,CAAC,MAAM,CAAC,CAAC;AACjC,CAAC;AAED;;;;GAIG;AACH,MAAM,CAAC,KAAK,UAAU,YAAY;IAChC,aAAa;IACb,IAAI,CAAC,eAAe,CAAC,YAAY,EAAE;QACjC,MAAM,IAAI,mBAAmB,CAAC,mBAAmB,EAAE,cAAc,CAAC,CAAC;KACpE;IACD,aAAa;IACb,MAAM,OAAO,GAAG,MAAM,eAAe,CAAC,YAAY,EAAE,CAAC;IACrD,OAAO,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,IAAI,WAAW,CAAC,MAAM,CAAC,CAAC,CAAC;AACxD,CAAC;AAED;;;;;;GAMG;AACH,MAAM,CAAC,KAAK,UAAU,cAAc,CAAC,IAAY;IAC/C,aAAa;IACb,IAAI,CAAC,eAAe,CAAC,cAAc,EAAE;QACnC,MAAM,IAAI,mBAAmB,CAAC,mBAAmB,EAAE,gBAAgB,CAAC,CAAC;KACtE;IACD,MAAM,eAAe,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;AAC7C,CAAC","sourcesContent":["import { UnavailabilityError } from '@unimodules/core';\nimport ExpoFirebaseApp from './ExpoFirebaseApp';\nimport { FirebaseOptions } from './FirebaseApp.types';\nexport { FirebaseOptions } from './FirebaseApp.types';\nexport * from './GoogleServices';\n\nexport const { DEFAULT_OPTIONS, DEFAULT_NAME } = ExpoFirebaseApp;\n\ninterface FirebaseAppConfig {\n  name: string;\n  options: FirebaseOptions;\n}\n\nclass FirebaseApp {\n  /**\n   * The (read-only) options for this app.\n   */\n  public name: string;\n\n  /**\n   * The (read-only) options for this app.\n   */\n  public readonly options: FirebaseOptions;\n\n  constructor(config: FirebaseAppConfig) {\n    this.name = config.name;\n    this.options = config.options;\n  }\n\n  /**\n   * Delete the Firebase app instance.\n   */\n  deleteAsync(): Promise<void> {\n    // @ts-ignore\n    if (!ExpoFirebaseApp.deleteAppAsync) {\n      throw new UnavailabilityError('expo-firebase-app', 'deleteAppAsync');\n    }\n    // @ts-ignore\n    return ExpoFirebaseApp.deleteAppAsync(this._name);\n  }\n}\n\n/**\n * Initializes a Firebase app.\n *\n * On iOS and Android this method is optional, as the default Firebase app instance\n * is automatically initialized when the `GoogleService-Info.plist` or `google-services.json`\n * file is configured.\n *\n * You can use this method to initialize additional Firebase app instances. You should typically not\n * initialize the default Firebase with custom options, as the default app is tightly coupled\n * with the google-services config that is shipped with the app.\n *\n * @param {FirebaseOption} [options] - Firebase configuration options\n * @param {string} [name] - Name of the firebase-app (when omitted the default name is used)\n * @return {Promise<FirebaseApp>} - Firebase app\n */\nexport async function initializeAppAsync(\n  options?: FirebaseOptions,\n  name?: string\n): Promise<FirebaseApp> {\n  // @ts-ignore\n  if (!ExpoFirebaseApp.initializeAppAsync) {\n    throw new UnavailabilityError('expo-firebase-app', 'initializeAppAsync');\n  }\n  const result = await ExpoFirebaseApp.initializeAppAsync(options, name);\n  return new FirebaseApp(result);\n}\n\n/**\n * Retrieves a Firebase app instance.\n * When called with no arguments, the default app is returned. When an app name is provided,\n * the app corresponding to that name is returned. An exception is thrown if the app being\n * retrieved has not yet been initialized.\n *\n * @param {string} name - Optional name of the app\n * @return {Promise<FirebaseApp>} - Firebase app\n */\nexport async function getAppAsync(name?: string): Promise<FirebaseApp> {\n  // @ts-ignore\n  if (!ExpoFirebaseApp.getAppAsync) {\n    throw new UnavailabilityError('expo-firebase-app', 'getAppAsync');\n  }\n  const result = await ExpoFirebaseApp.getAppAsync(name);\n  return new FirebaseApp(result);\n}\n\n/**\n * Retrieves all initialized Firebase app instances.\n *\n * @return {Promise<FirebaseApp[]>} - Array of firebase apps\n */\nexport async function getAppsAsync(): Promise<FirebaseApp[]> {\n  // @ts-ignore\n  if (!ExpoFirebaseApp.getAppsAsync) {\n    throw new UnavailabilityError('expo-firebase-app', 'getAppsAsync');\n  }\n  // @ts-ignore\n  const results = await ExpoFirebaseApp.getAppsAsync();\n  return results.map(result => new FirebaseApp(result));\n}\n\n/**\n * Deletes a Firebase app by its name.\n *\n * @internal\n * This function is provided for testing purposes, more specifically\n * to test forbidden access to the prohibited default app.\n */\nexport async function deleteAppAsync(name: string): Promise<void> {\n  // @ts-ignore\n  if (!ExpoFirebaseApp.deleteAppAsync) {\n    throw new UnavailabilityError('expo-firebase-app', 'deleteAppAsync');\n  }\n  await ExpoFirebaseApp.deleteAppAsync(name);\n}\n"]}